import{d as v,i as B,T as V,o as r,g as m,b as o,t as n,a as i,u as s,F as D,b4 as S,w as $,e as C,f as M}from"./app-DFNFXxLc.js";import{_ as w}from"./VButton.vue_vue_type_script_setup_true_lang-4xu5Xl2d.js";import{_ as x}from"./VInput.vue_vue_type_script_setup_true_lang-O9gq6JhU.js";import{_ as N}from"./VNumberInput.vue_vue_type_script_setup_true_lang-Co9H_L84.js";import{_ as k}from"./InputError.vue_vue_type_script_setup_true_lang-CjTXeXq2.js";import{u as E}from"./useDressings-Br-h5-jH.js";const F={class:"text-xl"},U={class:"mt-2"},j={class:"mt-4 grid grid-cols-2 gap-2"},O={class:"text-sm"},H=v({__name:"ClothesCategoryForm",props:{clothesCategory:{},clothesMinByDressing:{}},emits:["submitSuccess"],setup(g,{emit:h}){var p;const a=g,c=h,u=B(()=>a.clothesCategory&&a.clothesMinByDressing),d=E(),e=V({name:((p=a.clothesCategory)==null?void 0:p.name)??"",clothesMinByDressing:a.clothesMinByDressing??Object.fromEntries(Object.keys(d.all).map(t=>[t,0]))}),b=()=>{u.value?e.put(route("clothes-categories.update",a.clothesCategory),{onSuccess:()=>c("submitSuccess"),preserveState:!1}):e.post(route("clothes-categories.store"),{onSuccess:()=>c("submitSuccess"),preserveState:!1})};return(t,_)=>(r(),m("form",{class:"mx-auto mt-auto flex w-full max-w-lg flex-col gap-8",onSubmit:M(b,["prevent"])},[o("div",null,[o("label",null,n(t.$t("nom")),1),i(x,{modelValue:s(e).name,"onUpdate:modelValue":_[0]||(_[0]=f=>s(e).name=f),class:"w-full"},null,8,["modelValue"]),i(k,{message:s(e).errors.name,class:"mt-2"},null,8,["message"])]),o("div",null,[o("p",F,n(t.$t("minimum_de_vtement_par_dressing")),1),o("p",U,n(t.$t("dfinit_le_minimum_de_vtement_quil_te_faut_dans_ce")),1),o("div",j,[(r(!0),m(D,null,S(s(e).clothesMinByDressing,(f,l)=>(r(),m("div",null,[o("label",O,n(s(d).name(typeof l=="number"?l:Number.parseInt(l))),1),i(N,{min:0,modelValue:s(e).clothesMinByDressing[l],"onUpdate:modelValue":y=>s(e).clothesMinByDressing[l]=y},null,8,["modelValue","onUpdate:modelValue"])]))),256))])]),i(w,{type:"submit",disabled:s(e).processing,loading:s(e).processing},{default:$(()=>[C(n(u.value?t.$t("modifier_la_catgorie"):t.$t("creer")),1)]),_:1},8,["disabled","loading"])],32))}});export{H as _};
